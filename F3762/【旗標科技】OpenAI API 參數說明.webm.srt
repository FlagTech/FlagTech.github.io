1
00:00:00,000 --> 00:00:09,000
另外呢,還有一個最重要的參數叫做temperature

2
00:00:09,000 --> 00:00:17,000
這個temperature呢,它就是一個控制那個選詞語的溫度

3
00:00:17,000 --> 00:00:19,000
這樣講你可能覺得很莫名其妙

4
00:00:19,000 --> 00:00:25,000
你可以這樣想,就是這個確認GPT它在運作的時候

5
00:00:25,000 --> 00:00:29,000
其實就是一個文字接龍的一個引擎

6
00:00:29,000 --> 00:00:36,000
你給它一段話,它就會去從可以接在這段話後面的token裡面去挑

7
00:00:36,000 --> 00:00:39,000
哪一個token比較適合接

8
00:00:39,000 --> 00:00:44,000
所以每一個token都會有它的,我用比較白話的方式講叫分數

9
00:00:44,000 --> 00:00:48,000
就是分數越高的,表示那個接在後面越恰當

10
00:00:48,000 --> 00:00:51,000
那這個temperature它就是去控制

11
00:00:51,000 --> 00:00:55,000
我們如果把那個可以接在後面的字的token

12
00:00:55,000 --> 00:00:58,000
當成在一鍋鍋子裡面煮的東西的話

13
00:00:58,000 --> 00:01:04,000
那個temperature就是控制這個鍋子底下的爐火的大小

14
00:01:04,000 --> 00:01:08,000
那理論上如果你都不去動它的話

15
00:01:08,000 --> 00:01:11,000
分數越高的會浮在越上面

16
00:01:11,000 --> 00:01:14,000
分數越低的會沉在底下

17
00:01:14,000 --> 00:01:20,000
所以如果你都不去動它,它就比較可能會跳到那個上面分數比較高的詞語

18
00:01:20,000 --> 00:01:23,000
那這樣子它的回話就會很固定

19
00:01:23,000 --> 00:01:26,000
那這個temperature就是你可以控制那個火候

20
00:01:26,000 --> 00:01:29,000
所以如果你把那個溫度加大

21
00:01:29,000 --> 00:01:33,000
它就會滾開這個鍋子裡面的東西

22
00:01:33,000 --> 00:01:35,000
所以就像你煮東西一樣

23
00:01:35,000 --> 00:01:37,000
你在滾的時候它是不是就會翻來翻去

24
00:01:37,000 --> 00:01:41,000
那這個時候即使是底下那個分數比較低的token

25
00:01:41,000 --> 00:01:44,000
也有可能會翻到上面被選到

26
00:01:44,000 --> 00:01:48,000
那這個temperature就是一個0到2的值

27
00:01:48,000 --> 00:01:51,000
0的話你就把它當成就是把爐火關掉

28
00:01:52,000 --> 00:01:54,000
2的話就是開大火

29
00:01:54,000 --> 00:01:56,000
0到2中間你自己可以去調

30
00:01:56,000 --> 00:02:00,000
所以你可以做個實驗

31
00:02:00,000 --> 00:02:04,000
像這裡我左邊是temperature是0

32
00:02:04,000 --> 00:02:07,000
右邊是temperature是2

33
00:02:07,000 --> 00:02:10,000
不過你可能會遇到那個temperature設成2的時候

34
00:02:10,000 --> 00:02:13,000
如果你會遇到那個它怎麼跑都沒結果的話

35
00:02:13,000 --> 00:02:15,000
你就把它改成1.9

36
00:02:15,000 --> 00:02:17,000
應該就可以了

37
00:02:17,000 --> 00:02:19,000
像這裡我溫度設成0的時候

38
00:02:19,000 --> 00:02:21,000
你就會發現

39
00:02:21,000 --> 00:02:23,000
我叫它回我兩句話

40
00:02:23,000 --> 00:02:25,000
兩句話都幾乎一樣

41
00:02:25,000 --> 00:02:28,000
那我如果把溫度設成2的時候

42
00:02:28,000 --> 00:02:30,000
讓爐火滾一下

43
00:02:30,000 --> 00:02:33,000
你就會發現它回我兩句話就會不大一樣

44
00:02:33,000 --> 00:02:36,000
那這個就是你用temperature去控制

45
00:02:36,000 --> 00:02:39,000
所以在API的文件上它會說

46
00:02:39,000 --> 00:02:44,000
temperature會控制那個回話的豐富度

47
00:02:44,000 --> 00:02:46,000
因為你如果設成0

48
00:02:46,000 --> 00:02:49,000
你問同樣的話它幾乎都會回一樣的內容

49
00:02:49,000 --> 00:02:52,000
那你設成2它就會有點不一樣

50
00:02:52,000 --> 00:02:54,000
那這個是temperature

51
00:02:54,000 --> 00:02:57,000
那另外有一個參數叫做TopN

52
00:02:57,000 --> 00:02:59,000
TopN跟temperature有點像

53
00:02:59,000 --> 00:03:01,000
但是TopN的意思是

54
00:03:01,000 --> 00:03:03,000
它只取那個

55
00:03:03,000 --> 00:03:05,000
TopN是一個0到1的數值

56
00:03:05,000 --> 00:03:07,000
它就是一個百分比

57
00:03:07,000 --> 00:03:09,000
所以那個TopN的意思就是說

58
00:03:09,000 --> 00:03:15,000
它只從那個分數最高的百分佔比裡面去挑token

59
00:03:15,000 --> 00:03:20,000
那所以如果你的TopN設很小的話

60
00:03:20,000 --> 00:03:25,000
它就會變成只從分數最高的那一小群裡面去挑token

61
00:03:25,000 --> 00:03:29,000
那官方文件裡面它其實是要我們

62
00:03:29,000 --> 00:03:33,000
最好是TopN跟temperature選一個用就好了

63
00:03:33,000 --> 00:03:35,000
不要兩個一起用

64
00:03:36,000 --> 00:03:38,000
那你自己可以去試看看

65
00:03:38,000 --> 00:03:40,000
基本上temperature你很好

66
00:03:40,000 --> 00:03:43,000
就是你極端值你很容易分辨

67
00:03:43,000 --> 00:03:44,000
它其實是有差別的

68
00:03:44,000 --> 00:03:46,000
那中間的話你到底要設多大

69
00:03:46,000 --> 00:03:48,000
你可能要去試一下

70
00:03:48,000 --> 00:03:52,000
那個temperature的預設值是1

71
00:03:52,000 --> 00:03:54,000
0到2它預設值是1

72
00:03:56,000 --> 00:03:58,000
那TopN的話預設值就是1

73
00:03:58,000 --> 00:04:00,000
就是所有的token都讓我們考慮

74
00:04:02,000 --> 00:04:08,000
好那另外有一個叫做presents penalty

75
00:04:08,000 --> 00:04:12,000
它的意思就是針對那個已經出現過的字

76
00:04:12,000 --> 00:04:14,000
去做懲罰

77
00:04:14,000 --> 00:04:16,000
那意思就是說

78
00:04:16,000 --> 00:04:20,000
它用這個presents penalty就可以去控制

79
00:04:20,000 --> 00:04:27,000
它的回覆裡面出現那個重複字詞的那個程度

80
00:04:27,000 --> 00:04:29,000
那它是一個-2到2

81
00:04:29,000 --> 00:04:36,000
2的話就是加強懲罰那個出現過的字

82
00:04:36,000 --> 00:04:39,000
-2就是你可以把它翻成反向

83
00:04:39,000 --> 00:04:42,000
就是它很喜歡出現重複的字

84
00:04:43,000 --> 00:04:45,000
好所以你可以執行看看

85
00:04:45,000 --> 00:04:51,000
那這個我覺得不是很容易去看出來它的差別

86
00:04:51,000 --> 00:04:54,000
那你要注意一下就是我自己測試的時候

87
00:04:54,000 --> 00:05:01,000
如果那個temperature跟presents penalty都設成最高的2的話

88
00:05:01,000 --> 00:05:04,000
它的API可能會沒有回應

89
00:05:04,000 --> 00:05:06,000
所以你要把它調小一點

90
00:05:07,000 --> 00:05:12,000
所以像我這邊的測試我的temperature是設成0.7

91
00:05:12,000 --> 00:05:15,000
然後去調那個presents penalty

92
00:05:15,000 --> 00:05:17,000
那像我這邊有個例子

93
00:05:17,000 --> 00:05:20,000
左邊是-2右邊是2

94
00:05:20,000 --> 00:05:27,000
然後我覺得好像有一點點差別

95
00:05:27,000 --> 00:05:32,000
但是我沒有覺得是非常明確的可以看出來說

96
00:05:32,000 --> 00:05:34,000
好像有很嚴重

97
00:05:34,000 --> 00:05:36,000
但大概可以看得出來就是那個

98
00:05:36,000 --> 00:05:41,000
那個presents penalty設高一點的時候

99
00:05:41,000 --> 00:05:43,000
它回話比較不會那麼囉嗦

100
00:05:43,000 --> 00:05:46,000
比較精簡一點點這樣子

101
00:05:46,000 --> 00:05:48,000
那各位可以參考

102
00:05:48,000 --> 00:05:50,000
那你也可以自己去試看看

103
00:05:50,000 --> 00:05:54,000
那實際上我覺得這個參數

104
00:05:54,000 --> 00:05:58,000
我目前為止沒有覺得它有什麼非常關鍵的用處

105
00:05:58,000 --> 00:06:00,000
所以各位知道就好了

106
00:06:00,000 --> 00:06:03,000
另外有一個參數跟剛剛這個很像

107
00:06:03,000 --> 00:06:05,000
叫frequency penalty

108
00:06:05,000 --> 00:06:06,000
那它跟剛剛那個不一樣的是

109
00:06:06,000 --> 00:06:09,000
剛剛那個是有出現過就懲罰

110
00:06:09,000 --> 00:06:12,000
那這個是依照頻率來懲罰

111
00:06:12,000 --> 00:06:16,000
出現越多次它就懲罰越高

112
00:06:16,000 --> 00:06:19,000
它們的公式其實是底下這個

113
00:06:19,000 --> 00:06:22,000
它們的算法是這樣子

114
00:06:22,000 --> 00:06:25,000
這個是最後調整完的分數

115
00:06:25,000 --> 00:06:26,000
調整完的分數怎麼算呢

116
00:06:26,000 --> 00:06:32,000
就是由原始的分數去減掉這兩個懲罰項目

117
00:06:32,000 --> 00:06:34,000
那它的算法就是

118
00:06:34,000 --> 00:06:36,000
你看這是出現頻率

119
00:06:36,000 --> 00:06:39,000
然後乘我們設定的那個懲罰值

120
00:06:39,000 --> 00:06:41,000
然後這個是有沒有出現

121
00:06:41,000 --> 00:06:43,000
就是有出現跟沒出現

122
00:06:43,000 --> 00:06:45,000
它會去做懲罰

123
00:06:45,000 --> 00:06:47,000
所以從這個公式你就可以大概知道說

124
00:06:47,000 --> 00:06:50,000
presents penalty跟frequency penalty

125
00:06:50,000 --> 00:06:52,000
它們兩個的差別

126
00:06:52,000 --> 00:06:54,000
但實際上我真的覺得這兩個參數

127
00:06:54,000 --> 00:07:00,000
我沒有很覺得它們有什麼很明確的影響

128
00:07:00,000 --> 00:07:02,000
就是我看不大出來它到底

129
00:07:02,000 --> 00:07:04,000
最關鍵的影響到底在哪裡

130
00:07:04,000 --> 00:07:06,000
那各位可以去試試看


